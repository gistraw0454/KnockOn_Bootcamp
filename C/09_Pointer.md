# π 09. ν¬μΈν„°
## π’΅ Cμ–Έμ–΄ ν¬μΈν„°?
1. **ν¬μΈν„°μ κΈ°λ³Έκ°λ…κ³Ό μ©λ„**
- λ©”λ¨λ¦¬μ μ£Όμ†κ°’μ„ μ €μ¥ν•λ” λ³€μ, ν¬μΈν„° λ³€μλΌκ³ λ„ λ¶€λ¥Έλ‹¤
- charν• λ³€μκ°€ λ¬Έμλ¥Ό μ €μ¥ν•κ³ , intν• λ³€μκ°€ μ •μλ¥Ό μ €μ¥ν•λ” κ²ƒ μ²λΌ ν¬μΈν„°λ” μ£Όμ†κ°’μ„ μ €μ¥ν•λ‹¤,
- ν¬μΈν„° μ©λ„
    - μ—°κ²°λ μλ£κµ¬μ΅°λ¥Ό κµ¬μ¶•ν•κΈ°μ„ν•΄
    - λ™μ μΌλ΅ ν• λ‹Ήλ μλ£κµ¬μ΅°λ¥Ό μ§€μΉ­ν•κΈ°μ„ν•΄
    - Call by Reference μ νΈμ¶μ„ κµ¬ν„ν•κΈ°μ„ν•΄
    - μλ£κµ¬μ΅°μ•μ μ”μ†μ— μ ‘κ·Όν•κ³  μ”μ†λ“¤μ„ ν›‘μ–΄λ‚κ°λ•
    - λ°°μ—΄μ„ μΈμλ΅ μ „λ‹¬ν•μ—¬ λ§¤κ°λ³€μλ΅ λ°›μ„λ•
    - ν•¨μλ¥Ό μ°Έμ΅°ν•κΈ°μ„ν•΄
    - λ¬Έμμ—΄μ„ ν‘ν„ν•κΈ°μ„ν•΄
    - μ‹μ¤ν… λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•κΈ° μ„ν•΄
2. **ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ΄μ μ™€ μ¥μ **
- ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” μ΄μ  
    > κ°„κ²°ν•κ³  ν¨μ¨μ  μ²λ¦¬κ°€λ¥. λ” λΉ λ¥Έ κΈ°κ³„μ–΄ μ½”λ“μƒμ„±. λ°°μ—΄ λ° κµ¬μ΅°μ²΄ λ“±μ— μ‰¬μ΄μ ‘κ·Ό. ν¬μΈν„°μ— λ€ν• νΈμ¶ call by reference κ°€λ¥. λ™μ  κ°μ²΄ μ·¨κΈ‰
    - Cμ–Έμ–΄λ” λ©”λ¨λ¦¬μ— μ ‘κ·Όν•΄ μ°λ¦¬κ°€ μ›ν•λ” λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  μ μκ² ν•΄μ£Όλ” μ–Έμ–΄λ‹¤.
    - λ³€μλ¥Ό μ‚¬μ©ν•΄ λ©”λ¨λ¦¬μ— μ ‘κ·Όμ„ ν•λ ¤λ©΄ λ³€μ μ„ μ–ΈμΌλ΅ λ©”λ¨λ¦¬μ— κ³µκ°„μ„ ν™•λ³΄ν•κ³ , κ·Έκ³³μ„ λ°μ΄ν„°κ°€ λ„£κ³  κΊΌλ‚΄ μ“°λ” κ³µκ°„μΌλ΅ μ‚¬μ©ν•λ‹¤.
    - λ³€μλ¥Ό μ‚¬μ©ν•λ” κ°€μ¥ μ‰¬μ΄λ°©λ²•μ΄ μ΄λ¦„μ„ μ“°λ”κ²ƒμ΄κ³ , μ΄ λ³€μλ…μ€ λ©”λ¨λ¦¬κ³µκ°„μ„ μ‹λ³„ν•λ” μ—­ν• μ„ ν•λ‹¤.
        - ν•¨μλ‚΄λ¶€μ—μ„λ§ κ·Έλ³€μλ¥Ό μ‚¬μ©ν•  μ μκ³ , κ°™μ€ λ³€μλ…μ„ μ‚¬μ©ν•λ‹¤ ν•λ”λΌλ„ λΈ”λ΅μ΄λ‚ ν•¨μκ°€ λ‹¤λ¥΄λ©΄ λ³„λ„μ μ €μ¥κ³µκ°„μ„ ν™•λ³΄ν•λ―€λ΅ μ „ν€ λ‹¤λ¥Έ λ³€μλ΅ μ‚¬μ©λλ‹¤.
    - λ³€μ λ€μ‹  λ©”λ¨λ¦¬ μ£Όμ†κ°’μ„ μ΄μ”ν•΄ λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ” ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ©΄, μ‚¬γ…“μ©λ²”μ„λ¥Ό λ²—μ–΄λ‚ κ²½μ°λ„ λ°μ΄ν„°λ¥Ό κ³µμ ν•  μ μλ‹¤.
- ν¬μΈν„° μ‚¬μ© μ¥μ 
    - λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ°Έμ΅°ν•΄μ„ λ‹¤μ–‘ν• μλ£ν• λ³€μλ“¤μ μ ‘κ·Όκ³Ό μ΅°μ‘μ΄ μ©μ΄
    - call by reference μ— μν• μ „μ—­λ³€μ μ‚¬μ©μ–µμ 
    - λ°°μ—΄κ³Ό κ°™μ€ μ—°μ† λ°μ΄ν„°μ— μ ‘κ·Όκ³Ό μ΅°μ‘μ΄ μ©μ΄
    - λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όκ°€λ¥

3. **ν¬μΈν„°μ μ„ μ–Έκ³Ό μ‚¬μ©λ°©λ²•**
- `type* ptr`
    - ν¬μΈν„° λ³€μ ptrμ€ typeν• λ³€μμ μ£Όμ† κ°’μ„ μ €μ¥ν•λ‹¤
- `ptr = &a` μ£Όμ†λ΅ μ΄κΈ°ν™”
- `*` μ—°μ‚°μ
    - ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ κ³µκ°„μ μ ‘κ·Όμ„ μλ―Έ
- ν¬μΈν„°λ” λ©”λ¨λ¦¬ μ£Όμ†μ΄κ³ , ν¬μΈν„° λ³€μμ— μ§μ ‘ μ«μ μƒμλ¥Ό λ€μ…ν•μ—¬ μ΄κΈ°ν™” ν•  μλ” μ—†λ‹¤.
    - <ν¬μΈν„° λ³€μμ— λ€μ…ν•  μ μλ” κ°’>
    - NULL
    - λ‹¤λ¥Έ λ³€μμ μ£Όμ†λ‚ λ°°μ—΄λ…, ν•¨μλ…
    - malloc μ΄λ‚ callocν•¨μμ— μν•΄ λ°ν™λλ” μ£Όμ†κ°’
4. **ν¬μΈν„°μ™€ λ°°μ—΄ μ‚¬μ΄μ κ΄€κ³„**
- λ°°μ—΄μ κ° μ›μ†λ“¤μ€ λ©”λ¨λ¦¬ μƒμ— μ—°μ†μ μΌλ΅ μ„μΉν•΄ μκ²λλ‹¤.
- *(p+1) == arr[1]
- p+1 == &arr[1]
- ν¬μΈν„°λ°°μ—΄
    - λ°°μ—΄μ μ”μ†κ°€ ν¬μΈν„°
    - char* arr[3];
- λ°°μ—΄ν¬μΈν„°
    - νΉμ •μ‚¬μ΄μ¦μ λ°°μ—΄λ§ κ°€λ¦¬ν‚¬ μ μλ” <ins>ν•λ‚μ ν¬μΈν„°</ins>
    - char (*arr)[3];
5. **Call by Value, Call by Reference**
- κ°’μ— μν• νΈμ¶, μ°Έμ΅°μ— μν• νΈμ¶
- Call by value 
    - ν•¨μ νΈμ¶μ‹ λ„κΈ°λ” μΈμκ°’μ΄ λ§¤κ°λ³€μμ— λ³µμ‚¬λΌμ„ ν•¨μλ‚΄μ—μ„ λ§¤κ°λ³€μμ— μ§μ ‘μ μΈ λ°μ΄ν„° μ΅°μ‘μ„ κ°€ν•΄λ„ μΈμμ— μ „ν€ μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤.
        - μ§€μ—­λ³€μ, λ§¤κ°λ³€μκ°€ stackμ— ν• λ‹ΉλκΈ° λ•λ¬Έ
- Call by reference
    - μΈμ(λ³€μμμ£Όμ†)μ κ°’μ΄ λ§¤κ°λ³€μ(ν¬μΈν„° λ³€μλ΅ μ •μλ λ§¤κ°λ³€μ)μ— λ³µμ‚¬λλ‹¤. λ³µμ‚¬λλ” κ°’μ΄ λ°μ΄ν„°μ μ£Όμ†κ°’μ΄λΌλ” μ°¨μ΄κ°€ μλ‹¤.
    - μ°Έμ΅°κ°’μΌλ΅ ν•¨μλ¥Ό νΈμ¶ν–λ‹¤.
6. **μ΄μ¤‘ ν¬μΈν„°**
- ν¬μΈν„°λ„ λ³€μμ΄λ―€λ΅ λ©”λ¨λ¦¬ μƒμ κ³µκ°„μ— μ €μ¥λμ–΄μκ³  μ£Όμ†κ°’μ„ κ°€μ§„λ‹¤.
- μ΄ ν¬μΈν„°μ μ£Όμ†κ°’μ„ κ°€μ§€λ” ν¬μΈν„° ==> ν¬μΈν„°μ ν¬μΈν„° (μ΄μ¤‘ν¬μΈν„°)
- ν¬μΈν„°μ ν¬μΈν„°λ”(**p) ν¬μΈν„°λ¥Ό κ°€λ¦¬ν‚¤κ³  μλ”κ±°λ‹¤.
    ```c
    #include <stdio.h>
    int main() {
        int a;
        int *pa;
        int **ppa;

        pa = &a;
        ppa = &pa;
        a = 3;
        
        printf("%d %d %d\n", a, *pa, **ppa);
        printf("%d %d %d\n", &a, pa, *ppa);
        printf("%d %d", &pa, ppa);
        
        return 0;
    }
    //3 3 3
    //6487572 6487572 6487572
    //6487560 6487560
    ```

## π“„ μ½”λ“ λ¶„μ„
```c
// Call by Value, Call by Reference κ°λ…μ„ μƒκ°ν•λ©° λ‹¤μκ³Ό κ°™μ€ μ½”λ“λ¥Ό μ΄ν•΄ν•΄λ΄…μ‹λ‹¤.
void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

int main() {
    int x = 5, y = 10;
    printf("x: %d, y: %d\\n", x, y);
    swap(&x, &y);
    printf("x: %d, y: %d\\n", x, y);
    return 0;
}

```

- call by referenceμ— μν•μ—¬, xμ™€ yμ μ£Όμ†κ°’μ΄ μΈμκ°’μΌλ΅ λ§¤κ°λ³€μλ΅ μ „λ‹¬λλ‹¤. 
- μ΄λ• λ§¤κ°λ³€μλ” ν¬μΈν„° λ³€μλ΅ μ„ μ–Έλλ‹¤. λ”°λΌμ„ ν•¨μλ‚΄μ—μ„λ„ κ°’μ΄ swapλλ‹¤.

```c
// μ•„λμ μ½”λ“μ μ‹¤ν–‰ κ²°κ³Όλ¥Ό μμƒν•μ—¬ λ΄…μ‹λ‹¤
int main() {
	char m[] = "ABC";
	char* ap = m;
	*ap++ += 1;		
	*++ap += 3;		
	ap -= 2;		
	ap[1] += 2;		
	puts(m);		
}
```

- ν¬μΈν„°λ³€μ apμ— mμ μ£Όμ†κ°€ λ“¤μ–΄κ°€μλ‹¤.
- *ap++ +=1;
    - (\*ap) = (\*ap)+1 ν•μ—¬ Aλ¥Ό Bλ΅ λ°”κΏ”μ£Όκ³ , ap++ ν•΄μ¤μ„ μΈλ±μ¤λ¥Ό m[1]λ΅ λ°”κΏ”μ¤€λ‹¤.
- *++ap +=3;
    - ++ap ν•΄μ¤μ„ μΈλ±μ¤λ¥Ό m[2]λ¶€λ¶„μΌλ΅ λ°”κΏ”μ¤€ ν›„, *ap +=3 μ„ ν•΄μ¤μ„ Cλ¥Ό Fλ΅ λ°”κΏ”μ¤€λ‹¤.
- ap-=2;
    - μΈλ±μ¤λ¥Ό mμΌλ΅ λ°”κΏ”μ£Όκ³ 
- ap[1] +=2;
    - ap[1]μ Bλ¥Ό Dλ΅ λ°”κΏ”μ¤€λ‹¤.
- puts(m);
    BDFλ¥Ό μ¶λ ¥ν•λ‹¤.

```c
// μ•„λμ μ½”λ“μ μ‹¤ν–‰ κ²°κ³Όλ¥Ό μμƒν•μ—¬ λ΄…μ‹λ‹¤
int main() {
	short m[2][2] = { {10,20},{30,40} };
	short a, sum = 0;
	*m[0] = 15;
	*(m[0] + 1) = 25;
	*m[1] = 35;
	m[0][3] = 45;
	
	**m = 17;
	*(*(m + 1) + 1) = 47;
	*(*m + 1) = 27;
	**(m + 1) = 37;
	m[1][-1] += 2;
	for ( a = 0; a < 4; a++)
	{
		sum += m[0][a];
	}

	printf("%d\n", sum);
}
```

- *m[0] = 15;
    - {{15,20},{30,40}}
- *(m[0]+1)=25;
    - {{15,25},{30,40}}
- *m[1]=35;
    - {{15,25},{35,40}}
- m[0][3]=45;
    - {{15,25},{35,45}}
- \*\*m = 17;
    - {{17,25},{35,45}}
- \*(\*m + 1) = 27;
    - {{17,27},{35,45}}
- \*\*(m + 1) = 37;
    - {{17,27},{37,45}}
- m[1][-1] += 2;
    - {{17,29},{37,45}}
- sumμΌλ΅ 130μ΄ μ¶λ ¥λλ‹¤.


## π”¥ Challenge !
- **1λ²μ§Έ μμ‹λ¥Ό μ΄μ©ν•μ—¬ λ°°μ—΄μ μμ„λ¥Ό μ„λ” shuffle() ν•¨μλ¥Ό μ‘μ„±ν•΄ λ³΄κΈ°. (λ°λ“μ‹ swap() ν•¨μλ¥Ό μ΄μ©ν•΄μ•Ό ν•¨!)**

ex)

Array : 1 2 3 4 5

===shuffle===

Array : 5 3 2 1 4

```c
#include <stdio.h>

void swap(int *a, int *b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}

void shuffle(int* arr) {
    for (int i = 0; i < 4; i++) { 
        swap(&arr[4-i], &arr[3-i]);
    }
}

int main() {
    int arr[5] = {1, 2, 3, 4, 5}; 

    shuffle(arr);
    
    for (int i = 0; i < 5; i++) {
        printf("%d ", arr[i]);
    }

    return 0;
}
```